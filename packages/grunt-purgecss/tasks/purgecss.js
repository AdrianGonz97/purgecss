"use strict";var e=require("purgecss");function t(e,t=[]){return t.filter((t=>!!e.file.exists(t)||(e.log.warn(`Source file "${t}" not found.`),!1)))}module.exports=function(s){s.registerMultiTask("purgecss","Grunt plugin for PurgeCSS",(function(){const r=this.async(),i=this.options(e.defaultOptions),n=[];for(const r of this.files){const o=t(s,r.src),u=(new e.PurgeCSS).purge({...i,css:o}).then((e=>{if(void 0===r.dest)throw new Error("Destination file not found");s.file.write(r.dest,e[0].css),s.log.writeln(`File "${r.dest}" created.`)}));n.push(u)}Promise.all(n).then((()=>{r()})).catch((()=>r(!1)))}))};
